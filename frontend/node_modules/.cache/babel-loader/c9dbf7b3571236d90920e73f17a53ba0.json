{"ast":null,"code":"import Render from \"../Render\";\nimport itemImages from \"../../../../Images/itemImages\"; // import ClickHandler from \"../clickhandler\"\n\nexport default class Grid {\n  constructor(settings) {\n    let x = settings.x || 0;\n    let y = settings.y || 0;\n    let width = settings.width || 3;\n    let height = settings.height || 4;\n    let cellWidth = settings.cellWidth || 32;\n    let cellHeight = settings.cellHeight || 32;\n    let cellHalfWidth = cellWidth / 2;\n    let cellHalfHeight = cellHeight / 2;\n    let cellCount = settings.cellCount || false;\n    let labelOffsetX = settings.labelOffsetX || 0;\n    let labelOffsetY = settings.labelOffsetY || 10;\n    let labelSize = settings.labelSize || 10;\n    let labels = settings.labels || [];\n    let xSpace = settings.xSpace || 0;\n    let ySpace = settings.ySpace || 0;\n    let imgs = settings.imgs || false;\n    let controls = settings.controls || false;\n    let background = settings.background || false;\n    this.open = false;\n    this.start = new RigidBody(x, y, width, height);\n    this.cell = new RigidBody(0, 0, cellWidth, cellHeight);\n    this.labelOffset = new RigidBody(labelOffsetX, labelOffsetY, labelSize, labelSize);\n    this.cellSpace = new RigidBody(0, 0, xSpace, ySpace);\n    this.cellHalfSpace = new RigidBody(0, 0, cellHalfWidth, cellHalfHeight);\n    this.cellCount = cellCount;\n    this.labels = labels;\n    this.imgs = imgs;\n    this.spaces = [];\n    this.controls = controls;\n    this.backGround = background;\n    this.page = 0;\n    this.draw = new Render(); // this.clickHandler = new ClickHandler();\n\n    this.makeCells();\n  }\n\n  setLabelOffset(x, y) {\n    this.labelOffset.pos.x = x;\n    this.labelOffset.pos.y = y;\n  }\n\n  setLabelSize(size) {\n    this.labelOffset.size.x = size;\n    this.labelOffset.size.y = size;\n  }\n\n  setLabels(labels) {\n    for (var i = 0; i < this.spaces.length; i++) {\n      this.spaces[i].label.change(labels[i]);\n    }\n  }\n\n  changeImg(index, img) {\n    this.imgs[index] = img;\n  }\n\n  changeLabel(index, label) {\n    this.spaces[index].label.change(label);\n  }\n\n  makeCells() {\n    let x = this.start.pos.x;\n    let y = this.start.pos.y;\n    let width = this.start.size.x;\n    let height = this.start.size.y;\n    let cellWidth = this.cell.size.x;\n    let cellHeight = this.cell.size.y;\n    let labelSize = this.labelOffset.size.x;\n    let labelOffsetX = this.labelOffset.pos.x;\n    let labelOffsety = this.labelOffset.pos.y;\n    let count = 0;\n\n    for (var i = 0; i < height; i++) {\n      for (var j = 0; j < width; j++) {\n        if (this.cellCount && count > this.cellCount - 1) {\n          return;\n        }\n\n        let label = this.labels[i * width + j];\n\n        if (!label) {\n          label = \"\";\n        }\n\n        this.spaces.push({\n          button: this.button(x + j * cellWidth, y + i * cellHeight, cellWidth, cellHeight),\n          label: this.label(label, x + j * cellWidth + labelOffsetX, y + i * cellHeight + labelOffsety, labelSize)\n        });\n        count++;\n      }\n    }\n  }\n\n  drawGrid(ctx) {\n    if (this.backGround) {\n      this.draw.img(this.backGround.img, this.backGround.x, this.backGround.y, this.backGround.width, this.backGround.height, ctx);\n    }\n\n    for (var i = 0; i < this.spaces.length; i++) {\n      let img = false;\n\n      if (this.imgs.repeat) {\n        img = this.imgs.image;\n      } else if (this.imgs[i]) {\n        img = this.imgs[i];\n      }\n\n      if (img) {\n        this.draw.img(img, this.spaces[i].button.body.pos.x - 5, this.spaces[i].button.body.pos.y, this.spaces[i].button.body.size.x, this.spaces[i].button.body.size.y, ctx); // this.draw.label(this.spaces[i], ctx)\n      } else {// this.draw.button(this.spaces[i], ctx)\n        }\n    }\n  }\n\n  drawControls(ctx) {\n    if (this.controls) {\n      for (var i = 0; i < this.controls.length; i++) {\n        this.draw.img(this.controls[i].img, this.controls[i].button.body.pos.x, this.controls[i].button.body.pos.y, this.controls[i].button.body.size.x, this.controls[i].button.body.size.y, ctx);\n      }\n    }\n  }\n\n  drawInventory(inventory, ctx, page = 0) {\n    let len = this.spaces.length;\n\n    for (var i = 0; i < len; i++) {\n      if (inventory.spaces[i + page] && inventory.spaces[i + page].id !== -1) {\n        if (inventory.spaces[i + page].img) {\n          this.draw.inventoryItemImg(inventory.spaces[i + page].img, this.spaces[i].button.body.pos.x, this.spaces[i].button.body.pos.y, ctx);\n        } else {\n          this.draw.text(inventory.spaces[i + page].name, this.spaces[i].button.body.pos.x, this.spaces[i].button.body.pos.y + this.spaces[i].button.body.size.y / 2, \"9\", ctx);\n        }\n\n        this.draw.text(inventory.spaces[i + page].quantity, this.spaces[i].button.body.pos.x, this.spaces[i].button.body.pos.y + this.spaces[i].button.body.size.y / 3, \"9\", ctx);\n      }\n    }\n  }\n\n  drawItems(inventory, canvas, page = 0) {\n    if (!inventory) {\n      return false;\n    }\n\n    let len = this.spaces.length;\n\n    for (var i = 0; i < len; i++) {\n      if (!inventory[i + page] || inventory[i + page].id === -1) {\n        continue;\n      }\n\n      let category = inventory[i + page].category;\n      let img = inventory[i + page].img;\n\n      if (!itemImages[category] || !itemImages[category][img]) {\n        //if img doesn't exist then it shows name\n        this.draw.text(inventory[i + page].name, this.spaces[i].button.body.pos.x + 3, this.spaces[i].button.body.pos.y + 22, 7, canvas.ctx);\n        this.draw.text(inventory[i + page].quantity, this.spaces[i].button.body.pos.x + 7, this.spaces[i].button.body.pos.y + 9, 7, canvas.ctx);\n      } else {\n        this.draw.text(inventory[i + page].quantity, this.spaces[i].button.body.pos.x + 7, this.spaces[i].button.body.pos.y + 9, 7, canvas.ctx);\n        this.draw.img(itemImages[category][img], this.spaces[i].button.body.pos.x, this.spaces[i].button.body.pos.y + 9, this.spaces[i].button.body.size.x - 10, this.spaces[i].button.body.size.y - 10, canvas.ctx);\n      }\n    }\n  }\n\n  click(mouse, canvas) {\n    let len = this.spaces.length;\n\n    for (let x = 0; x < len; x++) {// if (this.clickHandler.click(mouse, this.spaces[x].button, canvas))\n      // {\n      //  \treturn ({click: true, index: x, label: this.spaces[x].label.label})\n      // }\n    }\n\n    return {\n      click: false,\n      index: -1\n    };\n  }\n\n  controlClick(mouse, canvas) {\n    let len = this.controls.length;\n\n    for (let x = 0; x < len; x++) {// if (this.clickHandler.click(mouse, this.controls[x].button, canvas))\n      // {\n      //  \treturn ({click: true, index: x})\n      // }\n    }\n\n    return {\n      click: false,\n      index: -1\n    };\n  }\n\n  button(x, y, width, height) {\n    return {\n      body: new RigidBody(x, y, width, height)\n    };\n  }\n\n  label(label, x, y, fontSize) {\n    return {\n      body: new RigidBody(x, y, 32, 32),\n      fontSize: fontSize,\n      label: label,\n      change: function (label) {\n        this.label = label;\n      }\n    };\n  }\n\n}\n\nclass Vector2d {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n}\n\nclass RigidBody {\n  constructor(x, y, width, height) {\n    this.pos = new Vector2d(x, y);\n    this.size = new Vector2d(width, height);\n  }\n\n  setPos(x, y) {\n    this.pos.x = x;\n    this.pos.y = y;\n  }\n\n  at_destination(x, y) {\n    let point = new RigidBody(x, y, 32, 32);\n\n    if (this.pos.x < x) {\n      this.currentDirection = \"east\";\n    }\n\n    if (this.pos.x > x) {\n      this.currentDirection = \"west\";\n    }\n\n    if (this.pos.y < y) {\n      this.currentDirection = \"south\";\n    }\n\n    if (this.pos.y > y) {\n      this.currentDirection = \"north\";\n    }\n\n    if (this.collide(point)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  boxCollision(obj1, obj2) {\n    if (obj1.pos.x < obj2.pos.x + obj2.size.x && obj1.pos.x + obj1.size.x > obj2.pos.x && obj1.pos.y < obj2.pos.y + obj2.size.y && obj1.pos.y + obj1.size.y > obj2.pos.y) {\n      return true;\n    }\n\n    return false;\n  }\n\n  collide(obj) {\n    return this.boxCollision(this, obj);\n  }\n\n}","map":{"version":3,"sources":["/Users/ericbucheit/Desktop/idleForestV2/frontend/src/Components/Canvas/Draw/Grid/index.js"],"names":["Render","itemImages","Grid","constructor","settings","x","y","width","height","cellWidth","cellHeight","cellHalfWidth","cellHalfHeight","cellCount","labelOffsetX","labelOffsetY","labelSize","labels","xSpace","ySpace","imgs","controls","background","open","start","RigidBody","cell","labelOffset","cellSpace","cellHalfSpace","spaces","backGround","page","draw","makeCells","setLabelOffset","pos","setLabelSize","size","setLabels","i","length","label","change","changeImg","index","img","changeLabel","labelOffsety","count","j","push","button","drawGrid","ctx","repeat","image","body","drawControls","drawInventory","inventory","len","id","inventoryItemImg","text","name","quantity","drawItems","canvas","category","click","mouse","controlClick","fontSize","Vector2d","setPos","at_destination","point","currentDirection","collide","boxCollision","obj1","obj2","obj"],"mappings":"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","sourcesContent":["import Render from \"../Render\"\nimport itemImages from \"../../../../Images/itemImages\"\n// import ClickHandler from \"../clickhandler\"\n\nexport default class Grid {\n\n\tconstructor(settings) {\n\t\t\n\t\tlet x = settings.x || 0\n\t\tlet y = settings.y || 0\n\t\tlet width = settings.width || 3\n\t\tlet height = settings.height || 4\n\t\tlet cellWidth = settings.cellWidth || 32\n\t\tlet cellHeight = settings.cellHeight || 32\n\t\tlet cellHalfWidth = cellWidth / 2;\n\t\tlet cellHalfHeight = cellHeight / 2;\n\t\tlet cellCount = settings.cellCount || false\n\t\tlet labelOffsetX = settings.labelOffsetX || 0\n\t\tlet labelOffsetY = settings.labelOffsetY || 10\n\t\tlet labelSize = settings.labelSize || 10\n\t\tlet labels = settings.labels || []\n\t\tlet xSpace = settings.xSpace || 0;\n\t\tlet ySpace = settings.ySpace || 0;\n\t\tlet imgs = settings.imgs || false\n\t\tlet controls = settings.controls || false\n\t\tlet background = settings.background || false\n\n\t\tthis.open = false;\n\t\tthis.start = new RigidBody(x, y, width,height);\n\t\tthis.cell = new RigidBody(0, 0, cellWidth, cellHeight)\n\t\tthis.labelOffset = new RigidBody(labelOffsetX, labelOffsetY, labelSize, labelSize);\n\t\tthis.cellSpace = new RigidBody(0,0, xSpace, ySpace);\n\t\tthis.cellHalfSpace = new RigidBody(0,0, cellHalfWidth, cellHalfHeight);\n\t\tthis.cellCount = cellCount;\n\t\tthis.labels = labels\n\t\tthis.imgs = imgs;\n\t\tthis.spaces = [];\n\t\tthis.controls = controls;\n\t\tthis.backGround = background\n\t\tthis.page = 0;\n\t\tthis.draw = new Render();\n\t\t// this.clickHandler = new ClickHandler();\n\n\t\tthis.makeCells();\n\n\t}\n\n\tsetLabelOffset(x, y) {\n\t\tthis.labelOffset.pos.x = x;\n\t\tthis.labelOffset.pos.y = y;\n\t}\n\n\tsetLabelSize(size) {\n\t\tthis.labelOffset.size.x = size;\n\t\tthis.labelOffset.size.y = size;\n\t}\n\n\tsetLabels(labels) {\n\t\tfor (var i = 0; i < this.spaces.length; i++) {\n\t\t\tthis.spaces[i].label.change(labels[i]);\n\t\t}\n\t}\n\n\tchangeImg(index, img) {\n\t\tthis.imgs[index] = img;\n\t}\n\n\tchangeLabel(index, label) {\n\t\tthis.spaces[index].label.change(label);\n\t}\n\n\tmakeCells() {\n\t\tlet x = this.start.pos.x;\n\t\tlet y = this.start.pos.y;\n\t\tlet width = this.start.size.x;\n\t\tlet height = this.start.size.y;\n\t\tlet cellWidth = this.cell.size.x;\n\t\tlet cellHeight = this.cell.size.y;\n\t\tlet labelSize = this.labelOffset.size.x;\n\t\tlet labelOffsetX = this.labelOffset.pos.x;\n\t\tlet labelOffsety = this.labelOffset.pos.y;\n\t\tlet count = 0;\n\t\tfor (var i = 0; i < height; i ++) {\n\t\t\tfor (var j = 0; j < width; j ++) {\n\t\t\t\tif (this.cellCount && count > this.cellCount - 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet label = this.labels[i * width + j];\n\t\t\t\tif (!label) {\n\t\t\t\t\tlabel = \"\";\n\t\t\t\t}\n\t\t\t\tthis.spaces.push({\n\t\t\t\t\tbutton: this.button((x + (j * cellWidth)), y + (i * cellHeight), cellWidth,cellHeight),\n\t\t\t\t\tlabel : this.label(label, x + (j * cellWidth) + labelOffsetX, (y + (i * cellHeight)) + labelOffsety, labelSize)\n\t\t\t\t})\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\t}\n\n\tdrawGrid(ctx) {\n\t\tif (this.backGround) {\n\t\t\tthis.draw.img(this.backGround.img, this.backGround.x, this.backGround.y, this.backGround.width, this.backGround.height, ctx)\n\t\t}\n\n\t\tfor (var i = 0; i < this.spaces.length; i++) {\n\t\t\t\n\t\t\tlet img = false;\n\n\t\t\tif (this.imgs.repeat) {\n\t\t\t\timg = this.imgs.image\n\t\t\t} else if (this.imgs[i]) {\n\t\t\t\timg = this.imgs[i]\n\t\t\t}\n\n\t\t\tif (img) {\n\n\n\t\t\t\tthis.draw.img(\n\t\t\t\t\t\t\t\timg,\n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.x - 5, \n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.y,\n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.size.x, \n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.size.y, \n\t\t\t\t\t\t\t\tctx\n\t\t\t\t\t\t\t)\n\n\t\t\t\t// this.draw.label(this.spaces[i], ctx)\n\t\t\t} else {\n\t\t\t\t// this.draw.button(this.spaces[i], ctx)\n\t\t\t}\n\n\t\t}\n\t}\n\n\tdrawControls(ctx) {\n\t\tif (this.controls) {\n\t\t\tfor (var i = 0; i < this.controls.length; i++) {\n\t\t\t\tthis.draw.img(\n\t\t\t\t\t\t\t\tthis.controls[i].img,\n\t\t\t\t\t\t\t\tthis.controls[i].button.body.pos.x, \n\t\t\t\t\t\t\t\tthis.controls[i].button.body.pos.y,\n\t\t\t\t\t\t\t\tthis.controls[i].button.body.size.x, \n\t\t\t\t\t\t\t\tthis.controls[i].button.body.size.y, \n\t\t\t\t\t\t\t\tctx\n\t\t\t\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n\n\tdrawInventory(inventory, ctx, page = 0) {\n\t\tlet len = this.spaces.length\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tif (inventory.spaces[i + page] && inventory.spaces[i + page].id !== -1) {\n\t\t\t\tif (inventory.spaces[i + page].img) {\n\t\t\t\t\tthis.draw.inventoryItemImg(\n\t\t\t\t\t\t\t\t\tinventory.spaces[i + page].img,\n\t\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.x, \n\t\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.y,\n\t\t\t\t\t\t\t\t\tctx\n\t\t\t\t\t\t\t\t)\n\t\t\t\t} else {\n            \t\tthis.draw.text(inventory.spaces[i + page].name, this.spaces[i].button.body.pos.x, this.spaces[i].button.body.pos.y + (this.spaces[i].button.body.size.y / 2), \"9\", ctx);\n\t\t\t\t}\n           \t\tthis.draw.text(inventory.spaces[i + page].quantity, this.spaces[i].button.body.pos.x, this.spaces[i].button.body.pos.y + (this.spaces[i].button.body.size.y / 3), \"9\", ctx);\n\t\t\t} \n\t\t}\n\t}\n\n\tdrawItems(inventory, canvas, page = 0) {\n\t\tif (!inventory) {\n\t\t\treturn false\n\t\t}\n\n\t\tlet len = this.spaces.length\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tif (!inventory[i + page] || inventory[i + page].id === -1) {\n\t\t\t\tcontinue ;\n\t\t\t}\n\t\t\tlet category = inventory[i + page].category;\n\t\t\tlet img = inventory[i + page].img;\n\t\t\tif (!itemImages[category] || !itemImages[category][img]) {\n\t\t\t\t//if img doesn't exist then it shows name\n\t\t\t\t\tthis.draw.text(\n\t\t\t\t\t\t\t\t\tinventory[i + page].name, \n\t\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.x + 3, \n\t\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.y + 22,\n\t\t\t\t\t\t\t\t\t7, \n\t\t\t\t\t\t\t\t\tcanvas.ctx)\n\n\t\t\t\t\tthis.draw.text(\n\t\t\t\t\t\t\t\tinventory[i + page].quantity, \n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.x + 7, \n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.y + 9,\n\t\t\t\t\t\t\t\t7, \n\t\t\t\t\t\t\t\tcanvas.ctx\n\t\t\t\t\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tthis.draw.text(\n\t\t\t\t\t\t\t\tinventory[i + page].quantity, \n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.x + 7, \n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.y + 9,\n\t\t\t\t\t\t\t\t7, \n\t\t\t\t\t\t\t\tcanvas.ctx\n\t\t\t\t\t\t\t\t)\n\n\t\t\t\tthis.draw.img(\n\t\t\t\t\t\t\t\titemImages[category][img], \n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.x, \n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.pos.y + 9,\n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.size.x - 10, \n\t\t\t\t\t\t\t\tthis.spaces[i].button.body.size.y - 10, \n\t\t\t\t\t\t\t\tcanvas.ctx\n\t\t\t\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tclick(mouse, canvas) {\n\t\tlet len = this.spaces.length\n         for (let x = 0; x < len; x++) {\n            // if (this.clickHandler.click(mouse, this.spaces[x].button, canvas))\n            // {\n            //  \treturn ({click: true, index: x, label: this.spaces[x].label.label})\n            // }\n        }\n        return ({click: false, index: -1})\n\t}\n\n\tcontrolClick(mouse, canvas) {\n\t\tlet len = this.controls.length\n         for (let x = 0; x < len; x++) {\n            // if (this.clickHandler.click(mouse, this.controls[x].button, canvas))\n            // {\n            //  \treturn ({click: true, index: x})\n            // }\n        }\n        return ({click: false, index: -1})\n\t}\n\n\tbutton (x, y, width, height) {\n\t\treturn ({\n\t\t\tbody : new RigidBody(x,y,width,height)\n\t\t})\n\t}\n\n\tlabel(label, x, y, fontSize) {\n\t\treturn ({\n\t\t\tbody : new RigidBody(x,y,32,32),\n\t\t\tfontSize: fontSize,\n\t\t\tlabel: label,\n\n\t\t\tchange : function(label) {\n\t\t\t\tthis.label = label;\n\t\t\t}\n\n\t\t})\n\t}\n}\n\nclass Vector2d {\n\tconstructor(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y\n\t}\n}\n\nclass RigidBody {\n\t\n\tconstructor(x, y, width, height) {\n\t\tthis.pos = new Vector2d(x,y);\n\t\tthis.size = new Vector2d(width, height);\t\t\n\t}\n\n\tsetPos(x,y) {\n\t\tthis.pos.x = x;\n\t\tthis.pos.y = y;\n\t}\n\n\tat_destination(x,y) {\n\t\tlet point = new RigidBody(x,y,32,32);\n\n\n\t\tif (this.pos.x < x) {\n\t\t\tthis.currentDirection = \"east\"\n\t\t}\n\n\t\tif (this.pos.x > x) {\n\t\t\tthis.currentDirection = \"west\"\n\t\t}\n\n\n\t\tif (this.pos.y < y) {\n\t\t\tthis.currentDirection = \"south\"\n\t\t}\n\n\t\tif (this.pos.y > y) {\n\t\t\tthis.currentDirection = \"north\"\n\t\t}\n\n\n\t\tif (this.collide(point)) \n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\treturn (false);\n\t}\n\t\n\tboxCollision(obj1, obj2) {\n\t\tif (obj1.pos.x < obj2.pos.x + obj2.size.x &&\n\t\t   obj1.pos.x + obj1.size.x > obj2.pos.x &&\n\t\t   obj1.pos.y < obj2.pos.y + obj2.size.y &&\n\t\t   obj1.pos.y + obj1.size.y > obj2.pos.y) {\n\t\t    return (true);\n\t\t}\n\t\treturn (false);\n\t}\n\n\tcollide(obj) {\n\t\treturn(this.boxCollision(this, obj));\n\t}\n\n\n\n}"]},"metadata":{},"sourceType":"module"}