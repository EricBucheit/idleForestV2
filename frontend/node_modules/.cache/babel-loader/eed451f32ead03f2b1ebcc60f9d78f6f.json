{"ast":null,"code":"import Render from '../Render';\nimport { statusBar, enemyImages, oreImages, treeImages, animals, playerImages, playerShirts, playerPants, playerHair, buttons, itemImages, spells } from '../../../../Images';\nimport { playerSounds, soundCheck } from '../../../../Sounds';\nexport default class Entity {\n  constructor() {\n    this.Render = new Render();\n  }\n\n  draw(canvas, entities) {\n    if (entities.currentPlayer && entities.currentPlayer.navigation.direction === \"down\") {\n      this.currentPlayer(canvas, entities.currentPlayer);\n      this.trees(canvas, entities.trees);\n      this.ores(canvas, entities.ores);\n      this.animals(canvas, entities.animals);\n      this.npcs(canvas, entities.npcs);\n      this.enemies(canvas, entities.enemies);\n      this.tutorialMaster(canvas, entities.npcs);\n    } else {\n      this.trees(canvas, entities.trees);\n      this.ores(canvas, entities.ores);\n      this.animals(canvas, entities.animals);\n      this.npcs(canvas, entities.npcs);\n      this.enemies(canvas, entities.enemies);\n      this.currentPlayer(canvas, entities.currentPlayer);\n      this.tutorialMaster(canvas, entities.npcs);\n    }\n  }\n\n  drawEntityBody(canvas, player) {\n    let imgs = playerImages[player.animation.img].images;\n    let direction = player.navigation.direction;\n    this.Render.img(imgs[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n\n    if (player.animation.shirt) {\n      let shirt = playerShirts[player.animation.shirt].images;\n      this.Render.img(shirt[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n    }\n\n    if (player.animation.pants) {\n      let pants = playerPants[player.animation.pants].images;\n      this.Render.img(pants[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n    }\n\n    if (player.animation.helm.img) {\n      let helm = itemImages[player.animation.helm.category][player.animation.helm.img].images;\n      this.Render.img(helm[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n    } else if (player.animation.hair) {\n      let hair = playerHair[player.animation.hair].images;\n      this.Render.img(hair[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n    }\n\n    if (player.animation.feet.img) {\n      let feet = itemImages[player.animation.feet.category][player.animation.feet.img].images;\n      this.Render.img(feet[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n    }\n\n    if (player.animation.legs.img) {\n      let legs = itemImages[player.animation.legs.category][player.animation.legs.img].images;\n      this.Render.img(legs[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n    }\n\n    if (player.animation.chest.img) {\n      let chest = itemImages[player.animation.chest.category][player.animation.chest.img].images;\n      this.Render.img(chest[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n    }\n\n    if (player.animation.shield.img) {\n      let shield = itemImages[player.animation.shield.category][player.animation.shield.img].images;\n      this.Render.img(shield[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n    }\n  }\n\n  currentPlayer(canvas, player) {\n    if (player) {\n      if (player.animation.img) {\n        let direction = player.navigation.direction;\n        this.drawEntityBody(canvas, player);\n\n        if (player.action === 'magic') {\n          if (player.animation.magicIndex === 1) {\n            soundCheck(playerSounds.magic, player.sound);\n          }\n\n          if (player.animation.magicImg) {\n            this.Render.img(spells[player.animation.magicImg].images.getImg(player.animation.magicIndex), player.body.pos.x - 16, player.body.pos.y - 16, player.body.size.x * 2, player.body.size.y * 2, canvas.ctx);\n          }\n        }\n\n        if (player.action === \"swing\") {\n          if (player.animation.index === 3) {\n            soundCheck(playerSounds.swing, player.sound);\n          }\n\n          if (player.task === \"fight\" || player.task === \"hunt\") {\n            if (player.animation.index === 5) {\n              soundCheck(playerSounds.hit1, player.sound);\n            }\n\n            if (player.animation.weapon.img) {\n              let weapon = itemImages[player.animation.weapon.category][player.animation.weapon.img].images;\n              this.Render.img(weapon[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n            }\n          }\n\n          if (player.task === \"woodcut\") {\n            if (player.animation.index === 5) {\n              soundCheck(playerSounds.hit, player.sound);\n            }\n\n            if (player.animation.axe.img) {\n              let axe = itemImages[player.animation.axe.category][player.animation.axe.img].images;\n              this.Render.img(axe[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n            }\n          }\n\n          if (player.task === \"mine\") {\n            if (player.animation.index === 5) {\n              soundCheck(playerSounds.oreHit, player.sound);\n            }\n\n            if (player.animation.pickaxe.img) {\n              let pickaxe = itemImages[player.animation.pickaxe.category][player.animation.pickaxe.img].images;\n              this.Render.img(pickaxe[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n            }\n          }\n        }\n\n        if (player.action === \"shoot\") {\n          if (player.task === \"fight\" || player.task === \"hunt\") {\n            if (player.animation.index === 5) {\n              soundCheck(playerSounds.hit1, player.sound);\n            }\n\n            if (player.animation.bow.img) {\n              let bow = itemImages[player.animation.bow.category][player.animation.bow.img].images;\n              this.Render.img(bow[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx);\n            }\n          }\n        }\n      } else {\n        canvas.ctx.beginPath();\n        canvas.ctx.strokeStyle = player.body.color;\n        canvas.ctx.rect(player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y);\n        canvas.ctx.stroke();\n      }\n\n      if (player.hitBubble) {\n        this.Render.img(buttons.redHitBubble, player.hitBubble.x, player.hitBubble.y, 20, 20, canvas.ctx);\n        this.Render.text(player.hitBubble.value, player.hitBubble.x + 6, player.hitBubble.y + 12, \"8\", canvas.ctx, \"purple\");\n      }\n    }\n  }\n\n  scale(value, x1, y1, x2, y2) {\n    return (value - x1) * (y2 - x2) / (y1 - x1) + x2;\n  }\n\n  cornerHealthStats(canvas, player) {\n    if (!player) {\n      return false;\n    }\n\n    const xOffset = 35;\n    this.Render.img(statusBar.empty, xOffset, 0, 50, 15, canvas.ctx);\n    this.Render.img(statusBar.empty, xOffset, 15, 50, 15, canvas.ctx);\n    this.Render.img(statusBar.empty, xOffset, 30, 50, 15, canvas.ctx);\n    let scaledHealth = this.scale(player.skills.health.current, 0, player.skills.health.value, 0, 50);\n    this.Render.img(statusBar.health, xOffset, 0, scaledHealth, 15, canvas.ctx);\n    let scaledThirst = this.scale(player.skills.thirst.current, 0, player.skills.thirst.value, 0, 50);\n    this.Render.img(statusBar.thirst, xOffset, 15, scaledThirst, 15, canvas.ctx);\n    let scaledHunger = this.scale(player.skills.hunger.current, 0, player.skills.hunger.value, 0, 50);\n    this.Render.img(statusBar.hunger, xOffset, 30, scaledHunger, 15, canvas.ctx);\n    this.Render.text(\"HP:\", 5, 8, \"8\", canvas.ctx, \"purple\");\n    this.Render.text(\"Thirst:\", 5, 24, \"8\", canvas.ctx, \"purple\");\n    this.Render.text(\"Hunger:\", 5, 40, \"8\", canvas.ctx, \"purple\");\n    this.Render.text(\"Level:\" + player.info.currentLevel, 10, 54, \"10\", canvas.ctx, \"purple\");\n  }\n\n  health(canvas, entity) {\n    let offset = 5;\n\n    if (entity.body.size.y >= 64) {\n      offset = -10;\n    }\n\n    let scaledHealth = this.scale(entity.skills.health.current, 0, entity.skills.health.value, 0, entity.body.size.x);\n    this.Render.img(statusBar.empty, entity.body.pos.x, entity.body.pos.y - offset, entity.body.size.x, 5, canvas.ctx);\n    this.Render.img(statusBar.health, entity.body.pos.x, entity.body.pos.y - offset, scaledHealth, 5, canvas.ctx);\n  }\n\n  resourceImage(canvas, entity, imgSrc) {\n    if (entity.animation.img) {\n      let img = imgSrc[entity.animation.img];\n      this.Render.img(img, entity.body.pos.x, entity.body.pos.y, entity.body.size.x, entity.body.size.y, canvas.ctx);\n      this.health(canvas, entity);\n    } else {\n      canvas.ctx.beginPath();\n      canvas.ctx.strokeStyle = \"GREEN\";\n      canvas.ctx.rect(entity.body.pos.x, entity.body.pos.y, entity.body.size.x, entity.body.size.y);\n      canvas.ctx.stroke();\n    }\n  }\n\n  noImg(canvas, entity) {\n    canvas.ctx.beginPath();\n    canvas.ctx.strokeStyle = \"red\";\n    canvas.ctx.rect(entity.body.pos.x, entity.body.pos.y, entity.body.size.x, entity.body.size.y);\n    canvas.ctx.stroke();\n  }\n\n  drawEntity(canvas, entity) {\n    if (entity) {\n      for (var x = 0; x < entity.length; x++) {\n        if (entity[x]) {\n          if (entity[x].info.type === 'enemy') {\n            if (entity[x].animation.img) {\n              let imgs = enemyImages[entity[x].animation.img].images;\n              this.Render.img(imgs[entity[x].action].getImg(entity[x].navigation.direction, entity[x].animation.index), entity[x].body.pos.x, entity[x].body.pos.y, entity[x].body.size.x, entity[x].body.size.y, canvas.ctx);\n              this.health(canvas, entity[x]);\n            } else {\n              this.noImg(canvas, entity[x]);\n            }\n          } else if (entity[x].info.type === \"animal\") {\n            if (entity[x].animation.img) {\n              let imgs = animals[entity[x].animation.img].images;\n              this.Render.img(imgs[entity[x].action].getImg(entity[x].navigation.direction, entity[x].animation.index), entity[x].body.pos.x, entity[x].body.pos.y, entity[x].body.size.x, entity[x].body.size.y, canvas.ctx);\n              this.health(canvas, entity[x]);\n            } else {\n              this.noImg(canvas, entity[x]);\n            }\n          } else if (entity[x].info.type === 'ore') {\n            this.resourceImage(canvas, entity[x], oreImages);\n          } else if (entity[x].info.type === 'tree') {\n            this.resourceImage(canvas, entity[x], treeImages);\n          } else {\n            this.noImg(canvas, entity[x]);\n          }\n\n          if (entity[x].hitBubble) {\n            this.Render.img(buttons.redHitBubble, entity[x].hitBubble.x, entity[x].hitBubble.y + 5, 20, 20, canvas.ctx);\n            this.Render.text(entity[x].hitBubble.value, entity[x].hitBubble.x + 6, entity[x].hitBubble.y + 17, \"8\", canvas.ctx, \"purple\");\n          }\n        }\n      }\n    }\n  }\n\n  enemies(canvas, enemies) {\n    this.drawEntity(canvas, enemies);\n  }\n\n  trees(canvas, trees) {\n    this.drawEntity(canvas, trees);\n  }\n\n  ores(canvas, ores) {\n    this.drawEntity(canvas, ores);\n  }\n\n  animals(canvas, animals) {\n    this.drawEntity(canvas, animals);\n  }\n\n  tutorialMaster(canvas, npcs) {\n    if (npcs && npcs.tutorialMaster) {\n      if (npcs.tutorialMaster.message) {\n        this.Render.drawBubble(canvas.ctx, npcs.tutorialMaster.body.pos.x - 35, npcs.tutorialMaster.body.pos.y - 30, 150, 50, 20);\n        this.Render.textLinesByLength(npcs.tutorialMaster.message, npcs.tutorialMaster.body.pos.x - 30, npcs.tutorialMaster.body.pos.y - 20, 10, canvas.ctx, \"lightGrey\");\n        console.log(npcs.tutorialMaster.message);\n      }\n\n      this.drawEntityBody(canvas, npcs.tutorialMaster);\n    }\n  }\n\n  npcs(canvas, npcs) {\n    if (npcs && npcs.merchant) {\n      this.drawEntityBody(canvas, npcs.merchant);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/ericbucheit/Desktop/Projects/idleForestV2/frontend/src/Components/Canvas/Draw/Entities/index.js"],"names":["Render","statusBar","enemyImages","oreImages","treeImages","animals","playerImages","playerShirts","playerPants","playerHair","buttons","itemImages","spells","playerSounds","soundCheck","Entity","constructor","draw","canvas","entities","currentPlayer","navigation","direction","trees","ores","npcs","enemies","tutorialMaster","drawEntityBody","player","imgs","animation","img","images","action","getImg","index","body","pos","x","y","size","ctx","shirt","pants","helm","category","hair","feet","legs","chest","shield","magicIndex","magic","sound","magicImg","swing","task","hit1","weapon","hit","axe","oreHit","pickaxe","bow","beginPath","strokeStyle","color","rect","stroke","hitBubble","redHitBubble","text","value","scale","x1","y1","x2","y2","cornerHealthStats","xOffset","empty","scaledHealth","skills","health","current","scaledThirst","thirst","scaledHunger","hunger","info","currentLevel","entity","offset","resourceImage","imgSrc","noImg","drawEntity","length","type","message","drawBubble","textLinesByLength","console","log","merchant"],"mappings":"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","sourcesContent":["import Render from '../Render'\nimport {\n\t\t\tstatusBar, \n\t\t\tenemyImages, \n\t\t\toreImages, \n\t\t\ttreeImages,\n\t\t\tanimals,\n\t\t\tplayerImages,\n\t\t\tplayerShirts,\n\t\t\tplayerPants,\n\t\t\tplayerHair,\n\t\t\tbuttons,\n\t\t\titemImages,\n\t\t\tspells,\n\t\t} from '../../../../Images'\n\nimport {playerSounds, soundCheck} from '../../../../Sounds'\n\nexport default class Entity {\n\t\n\tconstructor() {\n\t\tthis.Render = new Render()\n\t}\n\n\tdraw(canvas, entities) {\n\t\tif (entities.currentPlayer && entities.currentPlayer.navigation.direction === \"down\") {\n\t\t\tthis.currentPlayer(canvas, entities.currentPlayer);\n\t\t\tthis.trees(canvas, entities.trees);\n\t\t\tthis.ores(canvas, entities.ores);\n\t\t\tthis.animals(canvas, entities.animals);\n\t\t\tthis.npcs(canvas, entities.npcs);\n\t\t\tthis.enemies(canvas, entities.enemies);\t\n\t\t\tthis.tutorialMaster(canvas, entities.npcs)\n\t\t} else {\n\t\t\tthis.trees(canvas, entities.trees);\n\t\t\tthis.ores(canvas, entities.ores);\n\t\t\tthis.animals(canvas, entities.animals);\n\t\t\tthis.npcs(canvas, entities.npcs);\n\t\t\tthis.enemies(canvas, entities.enemies);\t\n\t\t\tthis.currentPlayer(canvas, entities.currentPlayer);\n\t\t\tthis.tutorialMaster(canvas, entities.npcs)\n\t\t}\n\t}\n\n\n\tdrawEntityBody(canvas, player) {\n\t\tlet imgs = playerImages[player.animation.img].images;\n\t\tlet direction = player.navigation.direction;\n\n\t\tthis.Render.img(imgs[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\tif (player.animation.shirt) {\n\t\t\tlet shirt = playerShirts[player.animation.shirt].images;\n\t\t\tthis.Render.img(shirt[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t}\n\n\t\tif (player.animation.pants) {\n\t\t\tlet pants = playerPants[player.animation.pants].images;\n\t\t\tthis.Render.img(pants[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t}\n\n\t\tif (player.animation.helm.img) {\n\t\t\tlet helm = itemImages[player.animation.helm.category][player.animation.helm.img].images;\n\t\t\tthis.Render.img(helm[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t} else if (player.animation.hair) {\n\t\t\tlet hair = playerHair[player.animation.hair].images;\n\t\t\tthis.Render.img(hair[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t}\n\t\tif (player.animation.feet.img) {\n\t\t\tlet feet = itemImages[player.animation.feet.category][player.animation.feet.img].images;\n\t\t\tthis.Render.img(feet[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t} \n\t\tif (player.animation.legs.img) {\n\t\t\tlet legs = itemImages[player.animation.legs.category][player.animation.legs.img].images;\n\t\t\tthis.Render.img(legs[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t} \n\n\t\tif (player.animation.chest.img) {\n\t\t\tlet chest = itemImages[player.animation.chest.category][player.animation.chest.img].images;\n\t\t\tthis.Render.img(chest[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t} \n\n\t\tif (player.animation.shield.img) {\n\t\t\tlet shield = itemImages[player.animation.shield.category][player.animation.shield.img].images;\n\t\t\tthis.Render.img(shield[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t}\n\n\n\t}\n\n\tcurrentPlayer(canvas, player) {\n\t\tif (player) {\n\t\t\tif (player.animation.img) {\n\t\t\t\tlet direction = player.navigation.direction;\n\n\t\t\t\tthis.drawEntityBody(canvas, player)\n\n\t\t\t\tif (player.action === 'magic') {\n\t\t\t\t\tif (player.animation.magicIndex === 1) {\n\t\t\t\t\t\tsoundCheck(playerSounds.magic, player.sound)\n\t\t\t\t\t}\n\t\t\t\t\tif (player.animation.magicImg) {\n\t\t\t\t\t\tthis.Render.img(spells[player.animation.magicImg].images.getImg(player.animation.magicIndex), player.body.pos.x - 16, player.body.pos.y - 16, player.body.size.x * 2, player.body.size.y * 2, canvas.ctx)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (player.action === \"swing\") {\n\t\t\t\t\tif (player.animation.index === 3) {\n\t\t\t\t\t\tsoundCheck(playerSounds.swing, player.sound);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (player.task === \"fight\" || player.task === \"hunt\") {\n\n\t\t\t\t\t\tif (player.animation.index === 5) {\n\t\t\t\t\t\t\tsoundCheck(playerSounds.hit1, player.sound);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (player.animation.weapon.img) {\n\t\t\t\t\t\t\tlet weapon = itemImages[player.animation.weapon.category][player.animation.weapon.img].images;\n\t\t\t\t\t\t\tthis.Render.img(weapon[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (player.task === \"woodcut\") {\n\t\t\t\t\t\tif (player.animation.index === 5) {\n\t\t\t\t\t\t\tsoundCheck(playerSounds.hit, player.sound);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (player.animation.axe.img) {\n\t\t\t\t\t\t\tlet axe = itemImages[player.animation.axe.category][player.animation.axe.img].images;\n\t\t\t\t\t\t\tthis.Render.img(axe[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\n\t\t\t\t\tif (player.task === \"mine\") {\n\t\t\t\t\t\tif (player.animation.index === 5) {\n\t\t\t\t\t\t\tsoundCheck(playerSounds.oreHit, player.sound);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (player.animation.pickaxe.img) {\n\t\t\t\t\t\t\tlet pickaxe = itemImages[player.animation.pickaxe.category][player.animation.pickaxe.img].images;\n\t\t\t\t\t\t\tthis.Render.img(pickaxe[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (player.action === \"shoot\") {\n\t\t\t\t\tif (player.task === \"fight\" || player.task === \"hunt\") {\n\t\t\t\t\t\tif (player.animation.index === 5) {\n\t\t\t\t\t\t\tsoundCheck(playerSounds.hit1, player.sound);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (player.animation.bow.img) {\n\t\t\t\t\t\t\tlet bow = itemImages[player.animation.bow.category][player.animation.bow.img].images;\n\t\t\t\t\t\t\tthis.Render.img(bow[player.action].getImg(direction, player.animation.index), player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y, canvas.ctx)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n            } else {\n                canvas.ctx.beginPath();\n                canvas.ctx.strokeStyle = player.body.color\n                canvas.ctx.rect(player.body.pos.x, player.body.pos.y, player.body.size.x, player.body.size.y);\n                canvas.ctx.stroke();\n            }\n            \n            if (player.hitBubble) {\n\t\t\t\t\tthis.Render.img(buttons.redHitBubble, player.hitBubble.x, player.hitBubble.y, 20, 20, canvas.ctx)\n\t\t\t\t\tthis.Render.text(player.hitBubble.value, player.hitBubble.x + 6,  player.hitBubble.y + 12, \"8\", canvas.ctx, \"purple\")\n\t\t\t}\n\t\t}\n\t}\n\n\tscale(value, x1, y1, x2, y2) {\n\t\treturn ((value - x1) * (y2 - x2) / (y1 - x1) + x2)\n\t}\n\n\tcornerHealthStats (canvas, player) {\n\t\t\n\t\tif(!player) {\n\t\t\treturn false\n\t\t}\n\t\tconst xOffset = 35;\n\n\t\tthis.Render.img(statusBar.empty, xOffset, 0, 50, 15, canvas.ctx);\n\t\tthis.Render.img(statusBar.empty, xOffset, 15, 50, 15, canvas.ctx);\n\t\tthis.Render.img(statusBar.empty, xOffset, 30, 50, 15, canvas.ctx);\n\n\t\tlet scaledHealth = this.scale(player.skills.health.current, 0, player.skills.health.value, 0 , 50)\n\t\tthis.Render.img(statusBar.health, xOffset, 0, scaledHealth, 15, canvas.ctx);\n\n\t\tlet scaledThirst = this.scale(player.skills.thirst.current, 0, player.skills.thirst.value, 0 , 50)\n\t\tthis.Render.img(statusBar.thirst, xOffset, 15, scaledThirst, 15, canvas.ctx);\n\n\t\tlet scaledHunger = this.scale(player.skills.hunger.current, 0, player.skills.hunger.value, 0 , 50)\n\t\tthis.Render.img(statusBar.hunger, xOffset, 30, scaledHunger, 15, canvas.ctx);\n\n\t\tthis.Render.text(\"HP:\", 5, 8, \"8\", canvas.ctx, \"purple\")\n\t\tthis.Render.text(\"Thirst:\", 5, 24, \"8\", canvas.ctx, \"purple\")\n\t\tthis.Render.text(\"Hunger:\", 5, 40, \"8\", canvas.ctx, \"purple\")\n\t\tthis.Render.text(\"Level:\" + player.info.currentLevel, 10, 54, \"10\", canvas.ctx, \"purple\");\n\n  \t}\n\n  \thealth(canvas, entity) {\n  \t\tlet offset= 5;\n  \t\tif (entity.body.size.y >= 64)\n  \t\t{\n  \t\t\toffset = -10;\n  \t\t}\n  \t\tlet scaledHealth = this.scale(entity.skills.health.current, 0, entity.skills.health.value, 0 , entity.body.size.x)\n  \t\tthis.Render.img(statusBar.empty, entity.body.pos.x, entity.body.pos.y - offset, entity.body.size.x, 5, canvas.ctx);\n\t\tthis.Render.img(statusBar.health,  entity.body.pos.x,  entity.body.pos.y -offset, scaledHealth, 5, canvas.ctx);\n\n  \t}\n\n  \tresourceImage(canvas, entity, imgSrc) {\n  \t\tif (entity.animation.img) {\n    \t\tlet img = imgSrc[entity.animation.img];\n\t\t\tthis.Render.img(img, entity.body.pos.x, entity.body.pos.y, entity.body.size.x, entity.body.size.y, canvas.ctx)\n            this.health(canvas,entity)\n    \t} else {\n            canvas.ctx.beginPath();\n            canvas.ctx.strokeStyle = \"GREEN\"\n            canvas.ctx.rect(entity.body.pos.x, entity.body.pos.y, entity.body.size.x, entity.body.size.y);\n            canvas.ctx.stroke();\n    \t}\n  \t}\n\n  \tnoImg(canvas, entity) {\n  \t\tcanvas.ctx.beginPath();\n        canvas.ctx.strokeStyle = \"red\"\n        canvas.ctx.rect(entity.body.pos.x, entity.body.pos.y, entity.body.size.x, entity.body.size.y);\n        canvas.ctx.stroke();\n  \t}\n\n\tdrawEntity(canvas, entity) {\n\t\tif (entity) {\n            for (var x = 0; x < entity.length; x++) {\n                if (entity[x]) {\n                \tif (entity[x].info.type === 'enemy') {\n\t                \tif (entity[x].animation.img) {\n\t                \t\tlet imgs = enemyImages[entity[x].animation.img].images;\n\t\t \t\t\t\t\tthis.Render.img(imgs[entity[x].action].getImg(entity[x].navigation.direction, entity[x].animation.index), entity[x].body.pos.x, entity[x].body.pos.y, entity[x].body.size.x, entity[x].body.size.y, canvas.ctx)\n\t\t                    this.health(canvas,entity[x])\n\t                \t} else {\n\t\t                    this.noImg(canvas, entity[x])\n\t                \t}\n                \t} else if (entity[x].info.type === \"animal\"){\n                \t\tif (entity[x].animation.img) {\n\t                \t\tlet imgs = animals[entity[x].animation.img].images;\n\t\t \t\t\t\t\tthis.Render.img(imgs[entity[x].action].getImg(entity[x].navigation.direction, entity[x].animation.index), entity[x].body.pos.x, entity[x].body.pos.y, entity[x].body.size.x, entity[x].body.size.y, canvas.ctx)\n\t\t                    this.health(canvas, entity[x])\n\t                \t} else {\n\t\t                    this.noImg(canvas, entity[x])\n\t                \t}\n                \t} else if (entity[x].info.type === 'ore') {\n                \t\tthis.resourceImage(canvas, entity[x], oreImages);\n                \t} else if (entity[x].info.type === 'tree') {\n                \t\tthis.resourceImage(canvas, entity[x], treeImages)\n                \t} else {\n                \t\tthis.noImg(canvas, entity[x])\n                \t}\n                \tif (entity[x].hitBubble) {\n\t\t\t\t\t\tthis.Render.img(buttons.redHitBubble, entity[x].hitBubble.x, entity[x].hitBubble.y + 5, 20, 20, canvas.ctx)\n\t\t\t\t\t\tthis.Render.text(entity[x].hitBubble.value, entity[x].hitBubble.x + 6,  entity[x].hitBubble.y + 17, \"8\", canvas.ctx, \"purple\")\t\n                \t}\n                }\n        \t}\n\n        }\n\t}\n\n\n\tenemies(canvas, enemies) {\n\t\tthis.drawEntity(canvas, enemies)\n\t}\n\n\ttrees(canvas, trees) {\n\t\tthis.drawEntity(canvas, trees)\n\t}\n\n\tores(canvas, ores) {\n\t\tthis.drawEntity(canvas, ores)\n\t}\n\n\tanimals(canvas, animals) {\n\t\tthis.drawEntity(canvas, animals)\n\t}\n\n\ttutorialMaster(canvas, npcs) {\n\t\tif (npcs && npcs.tutorialMaster) {\n\t\t\tif (npcs.tutorialMaster.message) {\n\t\t\t\tthis.Render.drawBubble(canvas.ctx, npcs.tutorialMaster.body.pos.x - 35, npcs.tutorialMaster.body.pos.y - 30, 150, 50, 20)\n\n\t\t\t\tthis.Render.textLinesByLength(npcs.tutorialMaster.message, npcs.tutorialMaster.body.pos.x - 30, npcs.tutorialMaster.body.pos.y - 20, 10, canvas.ctx, \"lightGrey\")\n\t\t\t\tconsole.log(npcs.tutorialMaster.message)\n\t\t\t}\n\t\t\tthis.drawEntityBody(canvas, npcs.tutorialMaster);\n\t\t}\n\t}\n\n\tnpcs(canvas, npcs) {\n\t\tif (npcs && npcs.merchant) {\n\t\t\tthis.drawEntityBody(canvas, npcs.merchant);\n\t\t}\n\t}\n}\t"]},"metadata":{},"sourceType":"module"}